<div class="three wide column row left-sidebar">
    <div class="ui list" id="left-navigation">
        <div class="catalog"
             style="background-color: #0c299c; color: white;display: block; padding: 8px 10px 6px 16px;">Produits
        </div>
        <ul class="catalog">
            <li class="menu_slider">Flyers et prospectus</li>
            <ul class="products hidden" style="display: none;">
                <li class="product">
                    <a href="{{ route('Flyers.135.gr.satiné') }}">Flyers 135 gr satiné</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers170') }}">Flyers 170 gr satiné + vernis satiné</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers250') }}">Flyers 250 gr + vernis satiné</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers300_plastic') }}">Flyers 300 gr + plastification brillante</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers300') }}">Flyers 300 gr</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers300_greenLine') }}">Flyers 300 gr Green Line</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers350') }}">Flyers 350 gr</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers350_brilant') }}">Flyers 350 gr plastif brillante</a>
                </li>
                <li class="product">
                    <a href="{{ route('flyers350_plastic') }}">Flyers 350 gr plastif matte</a>
                </li>
            </ul>

        </ul>
        <ul class="catalog">
            <li class="menu_slider">Affiches
                <ul class="products hidden" style="display: none;">
                    <li class="product">
                        <a href="{{ route('Affiches135') }}">Affiches quadri 135gr</a>
                    </li>
                    <li class="product">
                        <a href="{{ route('affiches1') }}">Affiches 1 couleur</a>
                    </li>
                    <li class="product">
                        <a href="{{ route('Affiches_grand') }}">Affiches grand format</a>
                    </li>
                    <li class="product">
                        <a href="{{ route('affiche_digitale') }}">Grande affiche digitale</a>
                    </li>
                    <li class="product">
                        <a href="{{ route('affiches_green') }}">Affiches Green Line</a>
                    </li>
                    <li class="product">
                        <a href="{{ route('affiches_recto') }}">Affiches recto/verso</a>
                    </li>
                    <li class="product">
                        <a href="{{ route('Affiches_grand') }}"></a>
                    </li>
                </ul>
            </li>
        </ul>
        <div class="catalog">
            <div class="menu_slider">Dépliants 135gr</div>
            <div class="products hidden" style="display: none;">
                <div class="product">
                    <a href="{{ route('dépliants135') }}">Dépliants 135gr</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Cartes de visite</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="{{ route('carte_visite_brillante') }}">Carte de visite brillante</a>
                </div>
                <div class="product">
                    <a href="{{ route('carte_visite_matte') }}">Carte de visite matte</a>
                </div>
                <div class="product">
                    <a href="{{ route('carte_visite_green') }}">Carte de visite green line</a>
                </div>
                <div class="product">
                    <a href="{{ route('carte_300') }}">Carte de visite Budget 300gr</a>
                </div>
                <div class="product">
                    <a href="{{ route('carte_deluxe') }}">Carte de visite Deluxe</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Cartes postales</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="{{ route('carte350') }}">350gr Carte postale</a>
                </div>
                <div class="product">
                    <a href="{{ route('carte310') }}">Véritable carte postale 310gr</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Panneaux immobilier</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="{{ route('panneaux_plats_4') }}">Panneaux plats 4mm</a>
                </div>
                <div class="product">
                    <a href="{{ route('panneaux_pyramid_4') }}">Panneaux en V (pyramidaux)
                        4mm</a>
                </div>
                <div class="product">
                    <a href="{{ route('panneaux_fléchage_4') }}">Panneaux fléchage 4mm</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Roll-Up</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="{{ route('roll_up') }}">Roll-Up</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Vinyle autocollant</div>
            <div class="products hidden" style="display:none;">
                <div class="product">
                    <a href="{{ route('vinyle_autocollant') }}">Vinyle autocollant</a>
                </div>
                <div class="product">
                    <a href="{{ route('vinyle_autocollant_rond') }}">Vinyle autocollant rond</a>
                </div>
                <div class="product">
                    <a href="{{ route('vinyle_autocollant_grand') }}">Vinyle autocollant grand format</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Brochures - Délai court</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="{{ route('brochures_A6') }}">Brochures A6</a>
                </div>
                <div class="product">
                    <a href="{{ route('vinyle_autocollant_grand') }}">Brochures A5</a>
                </div>
                <div class="product">
                    <a href="{{ route('vinyle_autocollant_grand') }}">Brochures A4</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Brochures - Magazines</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="{{ route('brochures_A6') }}">Brochures A6 - 135gr</a>
                </div>
                <div class="product">
                    <a href="{{ route('brochures_A5') }}">Brochures A5 - 135gr</a>
                </div>
                <div class="product">
                    <a href="{{ route('brochures_a4') }}">Brochures A4 - 135gr</a>
                </div>
                <div class="product">
                    <a href="{{ route('brochures_a4_170') }}">Brochures A4 - 170gr</a>
                </div>
            </div>
        </div>

        <div class="catalog">
            <div class="menu_slider">Reliures métaliques</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="{{ route('Reliure_135') }}">Reliure métalique papier 135gr</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Stickers</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/DST/sticker_autocollant_quadri">Stickers 80gr recto</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Sets de table</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/SDT/impression_set_de_table">Sets de table</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Laser 90 gr</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/LAR/impression_laser_recto">Laser 90gr recto</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/LAZ/impression_laser_recto_verso">Laser 90gr r/v</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Enveloppes</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/EUA/impression_enveloppe_US">Enveloppes US strip coll</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/EA5">Enveloppes A5 strip coll</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/EA4">Enveloppes A4 strip coll</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/EUG">Enveloppes US gommée</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Fardes à rabats</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/FAR/impression_farde_a_rabat_recto">Fardes à rabats recto</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/FAV/impression_farde_a_rabat_recto_verso">Fardes à rabats
                        r/v</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Préventes numérotées</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/DT1/prevente_quadri_UV">Préventes sans perfo</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/DT2/prevente_perforation_UV">Préventes avec perfo</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/DTF/prevente_agreee_France">Préventes agréées France</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Bloc-notes</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/Bloc-notes">Bloc-notes</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Impression digitale</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/D1R/impression_digitale_135_recto">Digital 135gr recto</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/D13/impression_digitale_135_recto_verso">Digital 135gr r/v</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/D3R/impression_digitale_300_recto">Digital 300gr recto</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/D30/impression_digitale_300_recto_verso">Digital 300gr r/v</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/DAF/impression_digitale_affiche_135_recto">Affiches 135gr
                        recto</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/DGR/impression_digitale_300_recto_UV">Digital 300gr recto +
                        plastification brillante recto</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/DGL/impression_digitale_300_recto_verso_UV">Digital 300gr
                        recto/verso + plastification brillante r/v</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Composition</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/COM/mise_en_page">Composition</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Forme de découpe</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/DEC">Forme de découpe</a>
                </div>
            </div>
        </div>
        <div class="catalog">
            <div class="menu_slider">Produits sponsorisés</div>
            <div class="products hidden" style="display: none">
                <div class="product">
                    <a href="/pub/product/detail/TIK/tickets_boisson_quadri">Tickets boissons</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/CVG">500 Cartes de visite sponsorisées</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/DAG">50 Aff. digitales sponsorisées</a>
                </div>
                <div class="product">
                    <a href="/pub/product/detail/TI2">Tickets boissons payants</a>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function handler(event) {
        var target = $(event.target);
        if (target.is("li")) {
            target.children().toggle();
        }
    }
    $("ul").click(handler).find("ul").hide();

    $('.format').change(function (event) {
        var productPrices;
        var currentPrices;
        var productCount;
        var currentCount;
        var count = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[3];
        var price = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1];
        if (productPrices) {
            productPrices.remove();
        }
        if (productCount) {
            productCount.remove();
        }
        var selectedOption = $('option:selected', event.target.parentNode.childNodes[1]).attr("title");
        var formatValue = $(event.target).val();
        var selectedProduct = [];
        var selectedFormat = [];
        $.ajax({
            method: 'post',
            url: urlSelect,
            data: {tableName: selectedOption, formatValue: formatValue, _token: token}
        }).done(function (data) {
            var productName = $.map(data.productName[0], function (value) {
                return [value];
            });
            var productCount = $.map(data.productCount[0], function (value) {
                return [value];
            });
            for (var i = 0; i < productName.length - 2; i++) {
                selectedProduct[i] = productName[i + 2];
                selectedFormat[i] = productCount[i + 2]
            }
            $(price).val(parseInt(selectedProduct[0]));
            console.log(selectedProduct[0]);
            $(count).val(parseInt(selectedFormat[0]));
            $('.plus').on('click', function (event) {
                event.preventDefault();
                currentCount = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[3];
                productPrices = selectedProduct;
                console.log(productPrices);
                productCount = selectedFormat;
                // console.log(productCount);
                currentPrices = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1];
                console.log(productPrices.length);
                //debugger;
                for (var i = 0; i < productPrices.length; i++) {
                    if (productPrices[i].value == currentPrices.value) {
                        selectedPrice = i;
                        selectedCount = i;
                    }
                }
                selectedPrice += 1;
                selectedCount += 1;
                var newPrice = Number(currentPrices.value);
                var newCount = Number(currentCount.value);
                if (selectedPrice >= productPrices.length - 1) {
                    newPrice += Number(productPrices[productPrices.length - 1]);
                    newCount += parseInt(productCount[productCount.length - 1]);
                    $(currentPrices).val(newPrice);
                    $(currentCount).val(newCount);
                }
                else {
                    $(currentPrices).val(productPrices[selectedPrice]);
                    $(currentCount).val(parseInt(productCount[selectedCount]));
                }
            });
            $('.minus').on('click', function (event) {
                event.preventDefault();
                selectedPrice -= 1;
                selectedCount -= 1;
                var newPrice = Number(currentPrices.value);
                var newCount = Number(currentCount.value);
                if (selectedPrice >= productPrices.length - 1) {
                    newPrice -= Number(productPrices[productPrices.length - 1]);
                    newCount -= parseInt(productCount[productCount.length - 1]);
                    $(currentPrices).val(newPrice);
                    $(currentCount).val(newCount);
                }
                else if (selectedPrice < productPrices.length - 1 && selectedPrice > 0) {
                    $(currentPrices).val(productPrices[selectedPrice]);
                    $(currentCount).val(parseInt(productCount[selectedCount]));
                }
                else if (selectedPrice == 0) {
                    $(currentPrices).val(productPrices[0]);
                    $(currentCount).val(parseInt(productCount[0]));
                }
            });
        });
    });


</script>
@foreach($productPrice as $value)
<input title="" type="text" value="{{ $value->name }}">
<input title="" type="text" value="{{ $value->count_1 }}">
<input title="" type="text" value="{{ $value->count_2 }}">
<input title="" type="text" value="{{ $value->count_3 }}">
<input title="" type="text" value="{{ $value->count_4 }}">

@endforeach


<select name="order.customerJobs[0].format.format.reference" class="format_reference" style="display: inline;">
    <option value="null">
        Choisissez
        le format
    </option>
    <option value="A608">8 pages format A6 (105x148 mm)</option>
    <option value="A612">12 pages format A6 (105x148 mm)</option>
    <option value="A616">16 pages format A6 (105x148 mm)</option>
    <option value="A620">20 pages format A6 (105x148 mm)</option>
    <option value="A624">24 pages format A6 (105x148 mm)</option>
    <option value="A628">28 pages format A6 (105x148 mm)</option>
    <option value="A632">32 pages format A6 (105x148 mm)</option>
    <option value="A636">36 pages format A6 (105x148 mm)</option>
    <option value="A640">40 pages format A6 (105x148 mm)</option>
    <option value="A644">44 pages format A6 (105x148 mm)</option>
    <option value="A648">48 pages format A6 (105x148 mm)</option>
    <option value="A652">52 pages format A6 (105x148 mm)</option>
    <option value="A656">56 pages format A6 (105x148 mm)</option>
    <option value="A660">60 pages format A6 (105x148 mm)</option>
    <option value="A664">64 pages format A6 (105x148 mm)</option>
    <option value="A668">68 pages format A6 (105x148 mm)</option>
    <option value="A672">72 pages format A6 (105x148 mm)</option>
    <option value="A676">76 pages format A6 (105x148 mm)</option>
    <option value="A680">80 pages format A6 (105x148 mm)</option>
</select>




CREATE TABLE `menu` (
`id` int(11) NOT NULL,
`value` varchar(50) NOT NULL,
`option_name` varchar(50) NOT NULL,
`option_id` varchar(6) NOT NULL,
`table_name` varchar(30) NOT NULL,
`option_group_id` int(11) DEFAULT NULL,
`root_name` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;



INSERT INTO `menu` (`id`, `value`, `option_name`, `option_id`, `table_name`, `option_group_id`, `root_name`) VALUES
(1, '', 'Flyers et prospectus', '', '', 1, ''),
(2, '1', 'Flyers 135 gr satiné', '1', 'flyers135', NULL, 'Flyers.135.gr.satiné'),
(3, '2', 'Flyers 170 gr satiné + vernis satiné', '1', 'flyers170', NULL, 'Flyers170'),
(4, '3', 'Flyers 250 gr + vernis satiné', '1', 'flyers250', NULL, 'flyers250'),
(5, '6', 'Flyers 350 gr', '1', 'flyers350', NULL, 'flyers350'),
(6, '5', 'Flyers 300 gr + plastification brillante', '1', 'flyers350_brilant', NULL, 'flyers300_plastic'),
(7, '4', 'Flyers 300 gr', '1', 'flyers300', NULL, 'flyers300'),
(8, '7', 'Flyers 300 gr Green Line', '1', 'flyers300_greenline', NULL, 'flyers300_greenLine'),
(9, '8', 'Flyers 350 gr plastif brillante', '1', 'flyers350_brilant', NULL, 'flyers350_brilant'),
(10, '9', 'Flyers 350 gr plastif matte', '1', 'flyers350_plastic', NULL, 'flyers350_plastic'),
(11, '', 'Affiches', '', '', 2, ''),
(12, '10', 'Affiches quadri 135gr', '2', 'affiches135', NULL, 'Affiches135'),
(13, '11', 'Affiches 1 couleur', '2', 'affiches1', NULL, 'affiches1'),
(14, '12', 'Affiches grand format', '2', 'affiches_grand', NULL, 'Affiches_grand'),
(15, '13', 'Grande affiche digitale', '2', 'affiche_digitale', NULL, 'affiche_digitale'),
(16, '14', 'Affiches Green Line', '2', 'affiches_green', NULL, 'affiches_green'),
(17, '15', 'Affiches recto/verso', '2', 'affiches_recto', NULL, 'affiches_recto'),
(18, '', 'Dépliants 135gr', '', '', 3, ''),
(19, '16', 'Dépliants 135gr', '3', 'dépliants135', NULL, ''),
(20, '', 'Cartes de visite', '', '', 4, ''),
(21, '17', 'Carte de visite brillante', '4', 'carte_visite_brillante', NULL, ''),
(22, '18', 'Carte de visite matte', '4', 'carte_visite_matte', NULL, ''),
(23, '19', 'Carte de visite green line', '4', 'carte_visite_green', NULL, ''),
(24, '20', 'Carte de visite Budget 300gr', '4', 'carte_300', NULL, ''),
(25, '21', 'Carte de visite Deluxe', '4', 'carte_deluxe', NULL, ''),
(26, '', 'Cartes postales', '', '', 5, ''),
(27, '22', '350gr Carte postale', '5', 'carte350', NULL, ''),
(28, '23', 'Véritable carte postale 310gr', '5', 'carte310', NULL, ''),
(29, '', 'Panneaux immobilier', '', '', 6, ''),
(30, '24', 'Panneaux plats 4mm', '6', 'panneaux_plats_4', NULL, ''),
(31, '25', 'Panneaux en V (pyramidaux) 4mm', '6', 'panneaux_pyramid_4', NULL, ''),
(32, 'ALF', 'Panneaux fléchage 4mm', '6', 'panneaux_fléchage_4', NULL, ''),
(35, '', 'Vinyle autocollant', '', '', 7, ''),
(36, 'VID', 'Vinyle autocollant', '7', 'vinyle_autocollant', NULL, ''),
(37, 'VIR', 'Vinyle autocollant rond', '7', 'vinyle_autocollant_rond', NULL, ''),
(38, 'VIN', 'Vinyle autocollant grand format', '7', 'vinyle_autocollant_grand', NULL, ''),
(39, '', 'Brochures - Délai court', '', '', 8, ''),
(40, 'MQ6', 'Brochures A6', '8', 'brochures_a6', NULL, ''),
(41, 'MQ5', 'Brochures A5', '8', 'brochures_a5', NULL, ''),
(42, 'MQ4', 'Brochures A4', '8', 'brochures_a4', NULL, ''),
(43, '', 'Brochures - Magazines', '', '', 9, ''),
(44, 'ML6', 'Brochures A6 - 135gr', '9', 'brochuresA6_135', NULL, ''),
(46, 'ML5', 'Brochures A5 - 135gr', '9', 'brochuresA5_135', NULL, ''),
(47, 'ML4', 'Brochures A4 - 135gr', '9', 'brochuresA4_135', NULL, ''),
(48, 'M41', 'Brochures A6 - 170gr', '9', 'brochuresa4_170', NULL, ''),
(49, '', 'Reliures métaliques', '', '', 10, ''),
(50, 'MET', 'Reliure métalique papier 135gr', '10', 'reliure_métalique', NULL, ''),
(51, '', 'Stickers', '', '', 11, ''),
(52, 'DST', 'Stickers 80gr recto', '11', 'stickers80', NULL, ''),
(53, '', 'Sets de table', '', '', 12, ''),
(54, 'STD', 'Sets de table', '12', 'sets_de', NULL, ''),
(55, '', 'Laser 90 gr', '', '', 13, ''),
(56, 'LAR', 'Laser 90gr recto', '13', 'laser_90', NULL, ''),
(57, 'LAZ', 'Laser 90gr r/v', '13', 'laser_90_r', NULL, ''),
(58, '', 'Enveloppes', '', '', 14, ''),
(59, 'EUA', 'Enveloppes US strip coll', '14', 'enveloppes_us', NULL, ''),
(60, 'EA5', 'Enveloppes A5 strip coll', '14', 'enveloppes_a5', NULL, ''),
(61, 'EA4', 'Enveloppes A4 strip coll', '14', 'enveloppes_a4', NULL, ''),
(62, 'EUG', 'Enveloppes US gommée', '14', 'enveloppes_us_gommée', NULL, ''),
(63, '', 'Fardes à rabats', '', '', 15, ''),
(64, 'FAR', 'Fardes à rabats recto', '15', 'fardes', NULL, ''),
(65, 'FAV', 'ardes à rabats r/v', '15', 'fardes_a', NULL, ''),
(66, '', 'Préventes numérotées', '', '', 16, ''),
(67, 'DT1', 'Préventes sans perfo', '16', 'préventes_sans', NULL, ''),
(68, 'DT2', 'Préventes avec perfo', '16', 'préventes_avec', NULL, ''),
(69, 'DTF', 'Préventes agréées France', '16', 'préventes_agréées', NULL, ''),
(70, '', 'Bloc-notes', '', '', 17, ''),
(71, 'Bloc-notes', 'Bloc-notes', '17', 'bloc-notes', NULL, ''),
(72, '', 'Impression digitale', '', '', 18, ''),
(73, 'D1R', 'Digital 135gr recto', '18', 'digital_135', NULL, ''),
(74, 'D13', 'Digital 135gr r/v', '18', 'digital_135_r', NULL, ''),
(75, 'D3R', 'Digital 300gr recto', '18', 'digital_3000', NULL, ''),
(76, 'D30', 'Digital 300gr r/v', '18', 'digital_3000_r', NULL, ''),
(77, 'DAF', 'Affiches 135gr recto', '18', 'affiches_135_r', NULL, ''),
(78, 'DGR', 'Digital 300gr recto + plastification brillante rec', '18', 'digital_300_r', NULL, ''),
(79, 'DGL', 'Digital 300gr recto/verso + plastification brillan', '18', 'digital_300_recto', NULL, ''),
(80, '', 'Composition', '', '', 19, ''),
(81, 'COM', 'Composition', '19', 'composition', NULL, ''),
(82, '', 'Forme de découpe', '', '', 20, ''),
(83, 'DEC', 'Forme de découpe', '20', 'forme_de', NULL, ''),
(84, '', 'Produits sponsorisés', '', '', 21, ''),
(85, 'TIK', 'Tickets boissons', '21', 'tickets_boissons', NULL, ''),
(86, 'CVG', '500 Cartes de visite sponsorisées', '21', 'cartes_500', NULL, ''),
(87, 'DAG', '50 Aff. digitales sponsorisées', '21', 'aff_digitales', NULL, ''),
(88, 'TI2', 'Tickets boissons payants', '21', 'tickets_boissons_payments', NULL, '');


ALTER TABLE `menu`
ADD PRIMARY KEY (`id`);



<scipt>
    $(document.body).click(function (event) {
    var asdd = $(event.target).attr('id');
    var asd = $("." + asdd);
    if (asd.is(":hidden")) {
    asd.slideDown("slow");
    } else {
    asd.hide();
    }
    });
    $('.product').on('click', function (event) {
    var header = $(event.target).text();
    var tableName = $(event.target).attr("title");
    window.location.href = 'table?tableName=' + tableName + '&header=' + header;
    });
    var selectArticle = $('.selectArticle');
    selectArticle.change(function (event) {
    var selectFormat = event.target.parentNode.childNodes[3];
    var list = event.target.parentNode.childNodes[3].childNodes;
    var selectedOption = $('option:selected', event.target).attr("title");
    $(list).not($(list)[1]).not($(list)[3]).not($(list)[2]).not($(list)[0]).remove();
    $.ajax({
    method: 'post',
    url: urlForFormat,
    data: {selectedOption: selectedOption, _token: token}
    }).done(function (data) {
    for (var i = 0; i < data.length; i++) {
    selectFormat.innerHTML += ' <option class="selectOption" value="' + data[i].value + '">' + data[i].name + ' (' + data[i].size + ')' + "</option>"
    }
    });
    });

    $('.verification').on('click', function (event) {
    var price = $(event.target.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1]);
    if ($(event.target.parentNode.parentNode.childNodes[3].childNodes[3]).prop('checked')) {
    var newPrice = Number(price.val()) + 4;
    price.val(newPrice);
    } else {
    price.val(price.val() - 4);
    }
    changeCount();
    });
    $('.pliage').on('click', function (event) {
    var price = $(event.target.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1]);
    if ($(event.target.parentNode.parentNode.childNodes[3].childNodes[8]).prop('checked')) {
    var newPrice = Number(price.val()) + 50;
    price.val(newPrice);
    } else {
    price.val(price.val() - 50)
    }
    changeCount();
    });
    $('.perforation').on('click', function (event) {
    var price = $(event.target.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1]);
    if ($(event.target.parentNode.parentNode.childNodes[3].childNodes[13]).prop('checked')) {
    var newPrice = Number(price.val()) + 50;
    price.val(newPrice);
    } else {
    price.val(price.val() - 50);
    }
    changeCount();
    });
    $('.liassésA').on('click', function (event) {
    var price = $(event.target.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1]);
    if ($(event.target.parentNode.parentNode.childNodes[3].childNodes[18]).prop('checked')) {
    var newPrice = Number(price.val()) + 10;
    price.val(newPrice);
    } else {
    price.val(price.val() - 10);
    }
    changeCount();
    });
    $('.LiassésB').on('click', function (event) {
    var price = $(event.target.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1]);
    if ($(event.target.parentNode.parentNode.childNodes[3].childNodes[23]).prop('checked')) {
    var newPrice = Number(price.val()) + 10;
    price.val(newPrice);
    } else {
    price.val(price.val() - 10);
    }
    changeCount();
    });
    function changeCount() {
    var price = $('.price');
    var name = $('.selectArticle option:selected');
    var format = $('.format option:selected');
    var data = [];
    var nameProduct = [];
    var size = [];
    var totalCount = 0;
    for (var i = 0; i < price.length; i++) {
    if (price[i].value !== '0' && name[i].value !== null) {
    data[i] = price[i].value;
    nameProduct[i] = name[i].text;
    size[i] = format[i].text;
    totalCount += parseInt(data[i]);
    }
    }


    $('#total').text(totalCount);
    var totalPrice = (21 * totalCount) / 100 + totalCount;
    $('#nds').text(totalPrice)
    }
    changeCount();
    $('.count1').on('click', function (event) {
    event.preventDefault();
    var rootName = $('#rootName').val();
    var countProduct = parseFloat(event.target.parentNode.childNodes[1].innerText);
    var productId = event.target.childNodes[1].value;
    var priceProduct = event.target.innerText;
    var tableName = $('#tableName').text();
    var selectName = $('#selectName').val();
    window.location.href = rootName + '?countProduct=' + countProduct + '&productId=' + productId + '&priceProduct=' + priceProduct + '&tableName=' + tableName + '&selectName=' + selectName;
    });

    var price = $('.price');
    $("#delayBox").on('click', function () {
    if ($("#24").is(":checked")) {
    for (var a = 0; a < price.length; a++) {
    if ($(price[a]).val() == 0) {
    }
    else {
    $(price[a]).val(Number(price.val()) + 26)
    }
    }
    }
    else if ($("#48").is(":checked")) {
    for (var i = 0; i < price.length; i++) {
    if ($(price[i]).val() == 0) {
    }
    else {
    $(price[i]).val(price[i].value - 6)
    }
    }
    }
    else if ($("#72").is(":checked")) {
    for (var j = 0; j < price.length; j++) {
    if ($(price[j]).val() == 0) {
    }
    else {
    $(price[j]).val(price[j].value - 8)
    }
    }
    }
    else if ($("#96").is(":checked")) {
    for (var q = 0; q < price.length; q++) {
    if ($(price[q]).val() == 0) {
    }
    else {
    $(price[q]).val(price[q].value - 12)
    }
    }
    }
    changeCount();
    });

    $('.secondSelect').change(function (event) {
    event.preventDefault();
    var select = $('#hiddenSelect');
    var divClone = select.clone(true, true);
    select.attr("style", "display: inline-block");
    $('.select').append(divClone);
    var option = event.target.parentNode.parentNode.parentNode.childNodes[3];
    if (option.style.display == 'none') {
    option.setAttribute("style", "display: block")
    }
    });
    var selectedPrice = 0;
    var selectedCount = 0;
    var productPrices;
    var currentPrices;
    var productCount;
    var currentCount;
    var newPrice;
    var discount5 = $('#discounted5');
    var discount25 = $('#discounted25');
    function discount() {
    if(discount5.prop('checked')){
    newPrice = newPrice - ((5 * newPrice) / 100);
    console.log(newPrice);
    }
    if(discount25.prop('checked')){
    newPrice = newPrice - ((25 * newPrice) / 100);
    console.log(newPrice);
    }
    }
    function discount2() {

    if($('#discounted5').prop('checked')){
    productPrices = productPrices - ((5 * productPrices) / 100);

    }
    if($('#discounted25').prop('checked')){
    productPrices = productPrices - ((25 * productPrices) / 100);

    }
    }

    $('#plus').on('click', function (event) {

    event.preventDefault();
    currentCount = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[3];
    productPrices = $(event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[5]).children();
    productCount = $(event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[7]).children();
    currentPrices = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1];
    for (var i = 0; i < productPrices.length; i++) {
    if (productPrices[i].value == currentPrices.value) {
    selectedPrice = i;
    selectedCount = i;
    }
    }
    selectedPrice += 1;
    selectedCount += 1;
    newPrice = Number(currentPrices.value);
    var newCount = Number(currentCount.value);
    if (selectedPrice >= productPrices.length - 1 && discount5.prop('checked') !== true && discount25.prop('checked') !== true) {
    newPrice += parseInt(productPrices[productPrices.length - 1].value);
    newCount += parseInt(productCount[productCount.length - 1].value);
    discount();
    $(currentPrices).val(newPrice);
    $(currentCount).val(newCount);
    }else
    if (selectedPrice >= productPrices.length - 1 && discount5.prop('checked') == true  && discount25.prop('checked') !== true) {
    newPrice += parseInt(productPrices[productPrices.length - 1].value - (productPrices[productPrices.length - 1].value*5/100));
    newCount += parseInt(productCount[productCount.length - 1].value);
    discount();
    $(currentPrices).val(newPrice);
    $(currentCount).val(newCount);
    }
    else
    if (selectedPrice >= productPrices.length - 1 && discount5.prop('checked') !== true  && discount25.prop('checked') == true) {
    newPrice += parseInt(productPrices[productPrices.length - 1].value - (productPrices[productPrices.length - 1].value*25/100));
    newCount += parseInt(productCount[productCount.length - 1].value);
    discount();
    $(currentPrices).val(newPrice);
    $(currentCount).val(newCount);
    }
    else
    if (selectedPrice >= productPrices.length - 1 && discount5.prop('checked') == true  && discount25.prop('checked') == true) {
    newPrice += parseInt(productPrices[productPrices.length - 1].value - (productPrices[productPrices.length - 1].value*30/100));
    newCount += parseInt(productCount[productCount.length - 1].value);
    discount();
    $(currentPrices).val(newPrice);
    $(currentCount).val(newCount);
    }
    else if (selectedPrice < productPrices.length - 1 && discount5.prop('checked') !== true && discount25.prop('checked') !== true) {
    productPrices = productPrices[selectedPrice].value;
    discount2();
    $(currentPrices).val(productPrices);
    $(currentCount).val(parseInt(productCount[selectedCount].value));
    } else if (selectedPrice < productPrices.length - 1 && discount5.prop('checked') == true && discount25.prop('checked') !== true) {

    productPrices = productPrices[selectedPrice].value;
    discount2();
    $(currentPrices).val(productPrices);
    $(currentCount).val(parseInt(productCount[selectedCount].value));
    }
    changeCount();
    });

    $('#minus').on('click', function (event) {
    event.preventDefault();
    currentCount = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[3];
    productPrices = $(event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[5]).children();
    productCount = $(event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[7]).children();
    currentPrices = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1];
    if (selectedPrice <= 0) {
    selectedPrice = 0;
    } else {
    selectedPrice -= 1;
    }
    if (selectedCount <= 0) {
    selectedCount = 0;
    } else {
    selectedCount -= 1;
    }
    newPrice = parseInt(currentPrices.value);
    var newCount = parseInt(currentCount.value);
    if (selectedPrice >= productPrices.length - 1) {
    newPrice -= Number(productPrices[productPrices.length - 1].value);
    newCount -= parseInt(productCount[productCount.length - 1].value);
    discount();
    $(currentPrices).val(newPrice);
    $(currentCount).val(newCount);
    }
    else if (selectedPrice < productPrices.length - 1 && selectedPrice > 0) {
    productPrices = productPrices[selectedPrice].value;
    discount2();
    $(currentPrices).val(productPrices);
    $(currentCount).val(parseInt(productCount[selectedCount].value));
    }
    else if (selectedPrice == 0) {
    productPrices = productPrices[0].value;
    discount2();
    $(currentPrices).val(productPrices);
    $(currentCount).val(parseInt(productCount[0].value));
    }

    changeCount();
    });
    $('.format').change(function (event) {
    var count = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[3];
    var price = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1];
    var selectedOption = $('option:selected', event.target.parentNode.childNodes[1]).attr("title");
    var formatValue = $(event.target).val();
    var selectedProduct = event.target.parentNode.childNodes[5];
    var selectedFormat = event.target.parentNode.childNodes[7];
    $(selectedProduct).children().remove();
    $(selectedFormat).children().remove();
    $.ajax({
    method: 'post',
    url: urlSelect,
    data: {tableName: selectedOption, formatValue: formatValue, _token: token}
    }).done(function (data) {
    var productName = $.map(data.productName[0], function (value) {
    return [value];
    });
    var productCount = $.map(data.productCount[0], function (value) {
    return [value];
    });
    for (var i = 2; i < productName.length; i++) {
    selectedProduct.innerHTML += '<input type="hidden" value="' + productName[i] + '">';
    selectedFormat.innerHTML += '<input type="hidden" value="' + productCount[i] + '">';
    }

    $(price).val(event.target.parentNode.childNodes[5].childNodes[1].value);
    $(count).val(parseInt(event.target.parentNode.childNodes[7].childNodes[1].value));
    changeCount();
    });

    $(event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[1].childNodes[1]).on('click', function (event) {
    event.preventDefault();

    currentCount = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[3];
    productPrices = event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[5].childNodes;
    productCount = event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[7].childNodes;
    currentPrices = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1];
    for (var i = 0; i < productPrices.length; i++) {
    if (productPrices[i].value == currentPrices.value) {
    selectedPrice = i;
    selectedCount = i;
    }
    }
    selectedPrice += 1;
    selectedCount += 1;
    newPrice = Number(currentPrices.value);
    var newCount = Number(currentCount.value);
    if (selectedPrice >= productPrices.length - 1) {
    newPrice += parseInt(productPrices[productPrices.length - 1].value);
    newCount += parseInt(productCount[productCount.length - 1].value);
    discount();
    $(currentPrices).val(newPrice);
    $(currentCount).val(newCount);
    }
    else if (selectedPrice < productPrices.length - 1) {
    productPrices = productPrices[selectedPrice].value;
    discount2();
    $(currentPrices).val(productPrices);
    $(currentCount).val(parseInt(productCount[selectedCount].value));
    }
    changeCount();
    });
    $(event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[5].childNodes).on('click', function (event) {
    currentCount = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[3];
    productPrices = event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[5].childNodes;
    productCount = event.target.parentNode.parentNode.parentNode.childNodes[1].childNodes[1].childNodes[7].childNodes;
    currentPrices = event.target.parentNode.parentNode.parentNode.childNodes[5].childNodes[7].childNodes[1];
    event.preventDefault();
    if (selectedPrice <= 0) {
    selectedPrice = 0;
    } else {
    selectedPrice -= 1;
    }
    if (selectedCount <= 0) {
    selectedCount = 0;
    } else {
    selectedCount -= 1;
    }
    newPrice = parseInt(currentPrices.value);
    var newCount = parseInt(currentCount.value);
    if (selectedPrice >= productPrices.length - 1) {
    newPrice -= Number(productPrices[productPrices.length - 1].value);
    newCount -= parseInt(productCount[productCount.length - 1].value);
    discount();
    $(currentPrices).val(newPrice);
    $(currentCount).val(newCount);
    }
    else if (selectedPrice < productPrices.length - 1 && selectedPrice > 0) {
    productPrices = productPrices[selectedPrice].value;
    discount2();
    $(currentPrices).val(productPrices);
    $(currentCount).val(parseInt(productCount[selectedCount].value));
    }
    else if (selectedPrice == 0) {
    productPrices = productPrices[0].value;
    discount2();
    $(currentPrices).val(productPrices);

    $(currentCount).val(parseInt(productCount[0].value));

    }
    changeCount();
    });

    });

    $('#divace').on('click', function () {
    event.preventDefault();
    var price = $('.price');
    var name = $('.selectArticle option:selected');
    var format = $('.format option:selected');
    var data = [];
    var nameProduct = [];
    var size = [];
    var totalCount = 0;
    for (var i = 0; i < price.length; i++) {
    if (price[i].value !== '0' && name[i].value !== null) {
    data[i] = price[i].value;
    nameProduct[i] = name[i].text;
    size[i] = format[i].text;
    totalCount += parseInt(data[i]);
    }
    }
    var totalPrice = (21 * totalCount) / 100 + totalCount;
    window.location.href = download + '&data=' + data + '&nameProduct=' + nameProduct + '&format=' + size + '&totalCount=' + totalCount + '&totalPrice=' + totalPrice;

    });

</scipt>

















